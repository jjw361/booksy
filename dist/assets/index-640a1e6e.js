import{d as I,a as E,u as q,j as u,k as F,l as $,r as o,m as j,o as a,c,i as t,f as i,g as b,w as e,n as k,t as x,e as s,h as R,p as U,F as A,q as G,E as J,s as K,v as O,_ as P}from"./index-b95edb8d.js";const Q=d=>(K("data-v-fb2ae52f"),d=d(),O(),d),W={class:"home"},X={class:"home_top"},Y=Q(()=>t("span",null,[t("svg",{t:"1693058754550",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4022",width:"32",height:"32"},[t("path",{d:"M958.759003 266.637119c-39.711911-70.914127-96.443213-130.481994-161.684211-173.030471-8.509695-5.67313-14.182825-8.509695-22.692521-8.509695-19.855956 0-34.038781 17.019391-34.038781 36.875346 0 14.182825 5.67313 25.529086 19.855956 34.038781 119.135734 73.750693 192.886427 209.905817 192.886427 354.570637s-73.750693 280.819945-192.886427 354.570638c-8.509695 5.67313-19.855956 17.019391-19.855956 34.038781 0 19.855956 14.182825 36.875346 34.038781 36.875346 8.509695 0 14.182825-2.836565 19.855956-5.67313 68.077562-42.548476 124.808864-102.116343 164.520776-173.030471C998.470914 680.775623 1021.163435 595.67867 1021.163435 510.581717c0-85.096953-22.692521-170.193906-62.404432-243.944598zM833.950139 510.581717c0-51.058172-11.34626-99.279778-36.875347-144.664819-22.692521-42.548476-56.731302-76.587258-96.443213-102.116344 0 0-11.34626-5.67313-19.855956-5.67313-19.855956 0-34.038781 17.019391-34.038781 36.875346 0 14.182825 5.67313 25.529086 17.019391 31.202216 62.404432 36.875346 99.279778 107.789474 99.279778 184.376731s-39.711911 147.501385-104.952909 184.376732c-11.34626 5.67313-17.019391 17.019391-17.01939 31.202216 0 19.855956 14.182825 36.875346 34.038781 36.875346 8.509695 0 17.019391-5.67313 17.019391-5.67313 87.933518-48.221607 141.828255-144.66482 141.828255-246.781164zM547.457064 5.67313c-5.67313-2.836565-11.34626-5.67313-17.019391-5.67313-8.509695 0-19.855956 2.836565-25.529086 8.509695-5.67313 5.67313-59.567867 51.058172-119.135734 96.443214-107.789474 85.096953-138.99169 99.279778-144.66482 102.116343H104.952909 34.038781C14.182825 207.069252 0 224.088643 0 243.944598v536.110804c0 19.855956 14.182825 36.875346 34.038781 36.875346h232.598338c5.67313 2.836565 36.875346 17.019391 130.481995 99.279778 31.202216 28.365651 68.077562 62.404432 104.952908 93.606649l2.836565 2.836565c8.509695 8.509695 17.019391 11.34626 28.365651 11.34626 5.67313 0 11.34626 0 17.019391-2.836565 14.182825-8.509695 25.529086-22.692521 25.529086-39.711911v-181.540167c0-2.836565-2.836565-743.180055-2.836565-751.68975-2.836565-22.692521-11.34626-36.875346-25.529086-42.548477z m-45.385042 782.891967v116.299169c-17.019391-17.019391-34.038781-31.202216-51.058172-45.385042-127.645429-110.626039-161.684211-119.135734-184.376731-119.135734H93.606648c-19.855956 0-25.529086-5.67313-25.529086-28.365651V303.512465c0-17.019391 2.836565-22.692521 17.019391-22.69252h156.01108c22.692521 0 53.894737-8.509695 195.722992-119.135734 22.692521-17.019391 45.385042-34.038781 65.240997-51.058172v677.939058z",fill:"#666666","p-id":"4023"})])],-1)),Z={key:0},e1={key:0,class:"home_top_right"},t1=["innerHTML"],o1={class:"home_bottom","element-loading-text":"等待..."},s1={class:"home_bottom_left"},n1=["src"],a1={key:1,style:{color:"#7f7f7f"}},l1={class:"home_bottom_right"},c1={class:"home_bottom_right_top"},i1={class:"home_bottom_right_bottom"},_1=["innerHTML"],d1=I({__name:"index",setup(d){let h=E();const n=q(),r=u(!1);F(()=>{n.dispatch("Notice"),y(),console.log(p.value)});const m=u(),y=async()=>{let _=await $.get("http://localhost/booksy/book_rotation.php");m.value=_.data,_.data!=null&&(p.value=!1)},p=u(!0),N=()=>{n.state.Notice=="暂无公告"?J({message:"暂无公告"}):(n.dispatch("Notice"),r.value=!0)},w=()=>{h.push({path:"/index/Notice"})},C=_=>{h.push({path:"/index/HotDetail",query:{book_id:_}})};return(_,f)=>{const v=o("el-text"),M=o("el-button"),V=o("el-dialog"),g=o("el-col"),H=o("el-divider"),B=o("el-scrollbar"),L=o("el-row"),S=o("el-tooltip"),T=o("el-carousel-item"),z=o("el-carousel"),D=j("loading");return a(),c("div",W,[t("div",X,[t("div",{class:"home_top_left",onClick:N},[Y,i(n).state.Notice=="暂无公告"?(a(),c("span",Z,"暂无公告")):(a(),b(v,{key:1,class:"Notice_title"},{default:e(()=>[k(x(i(n).state.Notice.notice_title),1)]),_:1}))]),i(n).state.identity!="用户"&&i(n).state.identity!=""?(a(),c("div",e1,[s(M,{type:"primary",onClick:w},{default:e(()=>[k("发布公告")]),_:1})])):R("",!0),s(V,{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=l=>r.value=l),center:"",title:i(n).state.Notice.notice_title,width:"30%"},{footer:e(()=>[]),default:e(()=>[t("div",{innerHTML:i(n).state.Notice.notice_content},null,8,t1)]),_:1},8,["modelValue","title"])]),U((a(),c("div",o1,[s(z,{"indicator-position":"outside",height:"500px"},{default:e(()=>[(a(!0),c(A,null,G(m.value,l=>(a(),b(T,{key:l,onClick:r1=>C(l.book_id)},{default:e(()=>[s(S,{class:"box-item",effect:"dark",content:"点击跳转详细",placement:"top"},{default:e(()=>[s(L,{gutter:24},{default:e(()=>[s(g,{span:12},{default:e(()=>[t("div",s1,[l.book_photo?(a(),c("img",{key:0,src:l.book_photo,alt:"",style:{height:"100px"}},null,8,n1)):(a(),c("span",a1,"暂无图片"))])]),_:2},1024),s(g,{span:12},{default:e(()=>[t("div",l1,[t("div",c1,[s(v,null,{default:e(()=>[t("h2",null,x(l.book_name),1)]),_:2},1024)]),s(H,{"border-style":"dashed"}),t("div",i1,[s(B,{"max-height":"400px"},{default:e(()=>[t("span",{innerHTML:l.book_content},null,8,_1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})])),[[D,p.value]])])}}});const u1=P(d1,[["__scopeId","data-v-fb2ae52f"]]);export{u1 as default};
